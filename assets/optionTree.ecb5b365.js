var e=Object.defineProperty,n=Object.defineProperties,o=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(n,o,t)=>o in n?e(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t;import{U as r,$ as c,R as d,O as s,F as u,j as p,e as f,z as m}from"./vendor.3b3f849b.js";import"./Input.2767a10d.js";import{s as b}from"./index.f7e44da3.js";function v(e,n,o,t,i){return p("optionList",{inline:!0,key:o},(()=>e.map((e=>i.optionItem({option:e})(p("optionItem",{block:!0,"block-font-size":b().fontSize(),"block-padding":`${b().spacing(-1)}px ${b().spacing()}px `,"flex-display":!0,"flex-justify-content-space-between":!0,onClick:()=>{e.children&&0!==e.children.length?t.onOpen(e,o):(t.onChange(e),t.onBlur())}},p("optionItemName",null,e.name),e.children&&0!==e.children.length?p("optionItemIcon",{inline:!0,"inline-margin-left-10px":!0},">"):null))))))}function h(e,n){const{options:o,openedIds:t}=e,i=u((()=>{const e={};return function n(o){o.forEach((o=>{e[o.id]=o,o.children&&n(o.children)}))}(o),e})),a=f();return p("optionContainer",{inline:!0,"flex-display":!0,tabindex:-1,onFocusOut:()=>e.onBlur(),style:{background:"#fff",zIndex:99},ref:a},n.optionList({items:o})((()=>v(o,0,0,e,n))),(()=>t.map(((o,t)=>n.optionsList({items:i[o]})((()=>v(i[o].children,0,t+1,e,n)))))))}h.propTypes={value:r.object.default((()=>c([]))),options:r.object.default((()=>d([]))),focused:r.bool.default((()=>c(!1))),onFocus:r.callback.default((()=>({focused:e})=>e.value=!0)),onBlur:r.callback.default((()=>({focused:e,openedIds:n})=>{n.splice(0),e.value=!1})),match:r.function.default((()=>(e,n)=>!!e.value&&e.value.id===n.id)),renderOption:r.function.default((()=>e=>e.name)),renderValue:r.function.default((()=>e=>e.value?e.value.map((e=>e.name)).join("/"):"")),assignOption:r.function.default((()=>(e,n)=>Object.assign(e,n))),onChange:r.callback.default((()=>(e,{openedIds:r,options:c,value:d,assignOption:s})=>{const u=[];let p=c;r.forEach((e=>{const r=p.find((n=>n.id===e));var c;u.push(s({},(c=((e,n)=>{for(var o in n||(n={}))i.call(n,o)&&l(e,o,n[o]);if(t)for(var o of t(n))a.call(n,o)&&l(e,o,n[o]);return e})({},r),n(c,o({children:void 0}))))),p=r.children})),d.value=u.concat(s({},e))})),openedIds:r.array.default((()=>d([]))),onOpen:r.callback.default((()=>(e,n,{openedIds:o})=>{o.splice(n),o[n]=e.id}))},h.Style=e=>{e.optionItem.elements.optionItem.style((({openedIds:e,value:n,option:o,match:t})=>{const i=e.includes(o.id);return{background:i?b().inverted().active().bgColor():b().active().bgColor(),color:i?b().interactable().active().inverted().color():b().color(),cursor:"pointer"}}))};var g=s(h);const y=d([{id:"1",name:"test1-long",children:[{id:"2",name:"son1"},{id:"3",name:"son2",children:[{id:"4",name:"son1"},{id:"5",name:"son2"}]}]},{id:"6",name:"test2",children:[{id:"7",name:"son1"},{id:"8",name:"son2"}]}]),I=c();function O(){return p("div",null,p(g,{value:I,options:y}))}m(p(O,null),document.getElementById("root"));
