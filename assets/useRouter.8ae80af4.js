import{a as e,g as t,C as n}from"./axii.es.c9c93548.js";import{u as r,c as i}from"./useLocation.b8b69302.js";import{M as o}from"./Menu.07ab95cb.js";import"./Right.3ca9ec74.js";import"./index.1d9f6fcb.js";function a(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var i=1,o="";if("?"===e[u=n+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0==--i){u++;break}}else if("("===e[u]&&(i++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);o+=e[u++]}else o+=e[u++]+e[u++];if(i)throw new TypeError("Unbalanced pattern at "+n);if(!o)throw new TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:o}),n=u}else{for(var a="",u=n+1;u<e.length;){var p=e.charCodeAt(u);if(!(p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||95===p))break;a+=e[u++]}if(!a)throw new TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:a}),n=u}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,i=void 0===r?"./":r,o="[^"+u(t.delimiter||"/#?")+"]+?",a=[],p=0,f=0,s="",l=function(e){if(f<n.length&&n[f].type===e)return n[f++].value},c=function(e){var t=l(e);if(void 0!==t)return t;var r=n[f],i=r.type,o=r.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+e)},d=function(){for(var e,t="";e=l("CHAR")||l("ESCAPED_CHAR");)t+=e;return t};f<n.length;){var h=l("CHAR"),v=l("NAME"),m=l("PATTERN");if(v||m){var x=h||"";-1===i.indexOf(x)&&(s+=x,x=""),s&&(a.push(s),s=""),a.push({name:v||p++,prefix:x,suffix:"",pattern:m||o,modifier:l("MODIFIER")||""})}else{var E=h||l("ESCAPED_CHAR");if(E)s+=E;else if(s&&(a.push(s),s=""),l("OPEN")){x=d();var g=l("NAME")||"",y=l("PATTERN")||"",A=d();c("CLOSE"),a.push({name:g||(y?p++:""),pattern:g&&!y?o:y,prefix:x,suffix:A,modifier:l("MODIFIER")||""})}else c("END")}}return a}function u(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function p(e){return e&&e.sensitive?"":"i"}function f(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var r=n.strict,i=void 0!==r&&r,o=n.start,a=void 0===o||o,f=n.end,s=void 0===f||f,l=n.encode,c=void 0===l?function(e){return e}:l,d="["+u(n.endsWith||"")+"]|$",h="["+u(n.delimiter||"/#?")+"]",v=a?"^":"",m=0,x=e;m<x.length;m++){var E=x[m];if("string"==typeof E)v+=u(c(E));else{var g=u(c(E.prefix)),y=u(c(E.suffix));if(E.pattern)if(t&&t.push(E),g||y)if("+"===E.modifier||"*"===E.modifier){var A="*"===E.modifier?"?":"";v+="(?:"+g+"((?:"+E.pattern+")(?:"+y+g+"(?:"+E.pattern+"))*)"+y+")"+A}else v+="(?:"+g+"("+E.pattern+")"+y+")"+E.modifier;else v+="("+E.pattern+")"+E.modifier;else v+="(?:"+g+y+")"+E.modifier}}if(s)i||(v+=h+"?"),v+=n.endsWith?"(?="+d+")":"$";else{var w=e[e.length-1],C="string"==typeof w?h.indexOf(w[w.length-1])>-1:void 0===w;i||(v+="(?:"+h+"(?="+d+"))?"),C||(v+="(?="+h+"|"+d+")")}return new RegExp(v,p(n))}(a(e,n),t,n)}function s(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(e.source);i;)t.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return s(e,t,n).source}));return new RegExp("(?:"+r.join("|")+")",p(n))}(e,t,n):f(e,t,n)}function l(e,t,n){let r,i;const o=e.find((({path:e})=>{const o=n.concat(e,"/(.*)").join(""),a=t+"/",u=[],p=s(o,u).exec(a);if(p){const[e,...t]=p,n=t.pop();return u.pop(),r={},u.forEach((({name:e},n)=>{r[e]=t[n]})),n&&(i=!0),!0}}));return o?{path:o.path,params:r,routes:o.routes,component:o.component,shouldHasChildren:i}:null}function c(e,n,r){const i=e[n];if(!i)return r?t(r,null):null;const{component:o,params:a,shouldHasChildren:u}=i;return t(o,{params:a},u?()=>c(e,n+1,r):null)}const d=r({},i());n(function(n,i,o=r()){const a=e((()=>{const e=[];let t=n;for(;t&&t.length;){const n=l(t,o.pathname,e.map((({path:e})=>e)));if(!n)break;e.push(n),t=n.routes}return e}),!0);return t("div",null,(()=>c(a,0,i)))}([{path:"/app",component:function({children:e}){return t("div",null,t("div",null,"App"),t(o,{data:["/app/child/1","/app/xxxx"].map((e=>({title:e,key:e}))),onSetActive:({title:e})=>{d.goto(e)}}),t("div",null,"children:"),e)},routes:[{path:"/child/:id",component:function({params:e}){return t("div",null,t("div",null,"child"),t("div",null,t(o,{data:[1,2,3,4].map((e=>({title:e,key:e}))),onSetActive:({title:e})=>{d.goto(`/app/child/${e}`)}})),t("div",null,"params: ",(()=>JSON.stringify(e))))}}]}],(function(){return t("div",null,"404")}),d),document.getElementById("root"));
