var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,s=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&c(e,r,t[r]);if(a)for(var r of a(t))o.call(t,r)&&c(e,r,t[r]);return e},i=(e,a)=>t(e,r(a));import{c as u,R as p,d as h,n as l}from"./vendor.3b3f849b.js";function y(e){return e?e.slice(1).split("&").reduce(((e,t)=>{const r=t.split("=");return i(s({},e),{[r[0]]:r[1]||!0})}),{}):{}}function b(e){return`?${Object.entries(e).map((([e,t])=>`${e}=${t}`)).join("&")}`}const m=e=>e&&e.toString(),f=u(),O={NUMBER:[e=>Number(e),m],BOOLEAN:[e=>Boolean(e),m]};function j(e,t,r=!1){return t?s({},Object.entries(e).reduce(((a,[n,o])=>n in t?i(s({},a),{[n]:"string"==typeof o?O[o][r?1:0](e[n]):o[r?1:0](e[n])}):a),{})):e}function g(e,t=f,r=y,a=b){const n=p({pathname:t.location.pathname,search:t.location.search,query:j(r(t.location.search),e)});return{get pathname(){return n.pathname},get search(){return n.search},get query(){return n.query},set query(r){t.push({pathname:t.location.pathname,query:j(r,e,!0)}),h((()=>l(n.query,r)))},patchQuery(o={}){t.push({pathname:t.location.pathname,search:a(s(s({},r(t.location.search)),j(o,e,!0)))}),h((()=>Object.assign(n.query,o)))},goto(a){t.push(a),h((()=>{n.pathname=t.location.pathname,n.search=t.location.search,n.query=j(r(t.location.search),e)}))}}}export{g as u};
