var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,a=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,o=(t,o)=>{for(var i in o||(o={}))e.call(o,i)&&a(t,i,o[i]);if(n)for(var i of n(o))r.call(o,i)&&a(t,i,o[i]);return t};import{P as i,K as c,e as u}from"./axii.es.c9c93548.js";function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s,f=s||(s={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";function h(t){t.preventDefault(),t.returnValue=""}function p(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function d(t){var e=t.pathname,n=t.search;return(void 0===e?"/":e)+(void 0===n?"":n)+(void 0===(t=t.hash)?"":t)}function y(t){var e={};if(t){var n=t.indexOf("#");0<=n&&(e.hash=t.substr(n),t=t.substr(0,n)),0<=(n=t.indexOf("?"))&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function g(t){function e(){var t=y(c.location.hash.substr(1)),e=t.pathname,n=t.search;t=t.hash;var r=u.state||{};return[r.idx,{pathname:void 0===e?"/":e,search:void 0===n?"":n,hash:void 0===t?"":t,state:r.usr||null,key:r.key||"default"}]}function n(){if(f)O.call(f),f=null;else{var t=s.Pop,n=e(),r=n[0];if(n=n[1],O.length){if(null!=r){var a=b-r;a&&(f={action:t,location:n,retry:function(){i(-1*a)}},i(a))}}else o(t)}}function r(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=-1===(n=(e=c.location.href).indexOf("#"))?e:e.slice(0,n)),n+"#"+("string"==typeof t?t:d(t))}function a(t,e){return void 0===e&&(e=null),l({},m,{},"string"==typeof t?y(t):t,{state:e,key:v()})}function o(t){g=t,t=e(),b=t[0],m=t[1],k.call({action:g,location:m})}function i(t){u.go(t)}void 0===t&&(t={});var c=void 0===(t=t.window)?document.defaultView:t,u=c.history,f=null;c.addEventListener("popstate",n),c.addEventListener("hashchange",(function(){d(e()[1])!==d(m)&&n()}));var g=s.Pop,b=(t=e())[0],m=t[1],k=p(),O=p();return null==b&&(b=0,u.replaceState(l({},u.state,{idx:b}),"")),{get action(){return g},get location(){return m},createHref:r,push:function t(e,n){var i=s.Push,l=a(e,n);if(!O.length||(O.call({action:i,location:l,retry:function(){t(e,n)}}),0)){var f=[{usr:l.state,key:l.key,idx:b+1},r(l)];l=f[0],f=f[1];try{u.pushState(l,"",f)}catch(h){c.location.assign(f)}o(i)}},replace:function t(e,n){var i=s.Replace,c=a(e,n);O.length&&(O.call({action:i,location:c,retry:function(){t(e,n)}}),1)||(c=[{usr:c.state,key:c.key,idx:b},r(c)],u.replaceState(c[0],"",c[1]),o(i))},go:i,back:function(){i(-1)},forward:function(){i(1)},listen:function(t){return k.push(t)},block:function(t){var e=O.push(t);return 1===O.length&&c.addEventListener("beforeunload",h),function(){e(),O.length||c.removeEventListener("beforeunload",h)}}}}function b(t){return t?t.slice(1).split("&").reduce(((t,e)=>{const n=e.split("=");return o(o({},t),{[n[0]]:n[1]||!0})}),{}):{}}function m(t){return`?${Object.entries(t).map((([t,e])=>`${t}=${e}`)).join("&")}`}const k=t=>t&&t.toString(),O=function(t){function e(){var t=i.location,e=c.state||{};return[e.idx,{pathname:t.pathname,search:t.search,hash:t.hash,state:e.usr||null,key:e.key||"default"}]}function n(t){return"string"==typeof t?t:d(t)}function r(t,e){return void 0===e&&(e=null),l({},b,{},"string"==typeof t?y(t):t,{state:e,key:v()})}function a(t){f=t,t=e(),g=t[0],b=t[1],m.call({action:f,location:b})}function o(t){c.go(t)}void 0===t&&(t={});var i=void 0===(t=t.window)?document.defaultView:t,c=i.history,u=null;i.addEventListener("popstate",(function(){if(u)k.call(u),u=null;else{var t=s.Pop,n=e(),r=n[0];if(n=n[1],k.length){if(null!=r){var i=g-r;i&&(u={action:t,location:n,retry:function(){o(-1*i)}},o(i))}}else a(t)}}));var f=s.Pop,g=(t=e())[0],b=t[1],m=p(),k=p();return null==g&&(g=0,c.replaceState(l({},c.state,{idx:g}),"")),{get action(){return f},get location(){return b},createHref:n,push:function t(e,o){var u=s.Push,l=r(e,o);if(!k.length||(k.call({action:u,location:l,retry:function(){t(e,o)}}),0)){var f=[{usr:l.state,key:l.key,idx:g+1},n(l)];l=f[0],f=f[1];try{c.pushState(l,"",f)}catch(h){i.location.assign(f)}a(u)}},replace:function t(e,o){var i=s.Replace,u=r(e,o);k.length&&(k.call({action:i,location:u,retry:function(){t(e,o)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},n(u)],c.replaceState(u[0],"",u[1]),a(i))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(t){return m.push(t)},block:function(t){var e=k.push(t);return 1===k.length&&i.addEventListener("beforeunload",h),function(){e(),k.length||i.removeEventListener("beforeunload",h)}}}}(),P={NUMBER:[t=>Number(t),k],BOOLEAN:[t=>Boolean(t),k]};function x(t,e,n=!1){return e?o({},Object.entries(t).reduce(((r,[a,i])=>a in e?o(o({},r),{[a]:"string"==typeof i?P[i][n?1:0](t[a]):i[n?1:0](t[a])}):r),{})):t}function E(t,e=O,n=b,r=m){const a=i({pathname:e.location.pathname,search:e.location.search,query:x(n(e.location.search),t)});return{get pathname(){return a.pathname},get search(){return a.search},get query(){return a.query},set query(n){e.push({pathname:e.location.pathname,query:x(n,t,!0)}),c((()=>u(a.query,n)))},patchQuery(i={}){e.push({pathname:e.location.pathname,search:r(o(o({},n(e.location.search)),x(i,t,!0)))}),c((()=>Object.assign(a.query,i)))},goto(r){e.push(r),c((()=>{a.pathname=e.location.pathname,a.search=e.location.search,a.query=x(n(e.location.search),t)}))}}}export{g as c,E as u};
