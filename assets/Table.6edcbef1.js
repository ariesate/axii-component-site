var e=Object.defineProperty,l=Object.defineProperties,n=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(l,n,t)=>n in l?e(l,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[n]=t,r=(e,l)=>{for(var n in l||(l={}))o.call(l,n)&&d(e,n,l[n]);if(t)for(var n of t(l))i.call(l,n)&&d(e,n,l[n]);return e},a=(e,t)=>l(e,n(t));import{U as s,j as c,m as p,E as u,$ as f,R as h,F as y,O as b}from"./vendor.3b3f849b.js";import{s as m}from"./index.f7e44da3.js";function w(e){e.rows.modify(((e,{columnCount:l})=>{l.value+=1})),e.heads.modify(((e,{expandedRowKeys:l})=>{e[0].children.unshift(c("expandTh",{use:"th",inline:!0,"inline-display":"table-cell","inline-border-width-1px":!0,"inline-width":60,rowSpan:e.length},c("expand",{onChange:()=>{}})))})),e.cells.modify(((e,{expandedRowKeys:l,row:n})=>{e.unshift(c("expandTd",{inline:!0,"inline-display":"table-cell","inline-border-width-1px":!0,use:"td","inline-width":60},c("div",{onClick:()=>((e,l)=>{e.has(l)?e.delete(l):e.add(l)})(l,n.key)},l.has(n.key)?"-":"+")))})),e.row.modify(((l,{row:n,expandedRowRender:t,expandedRowKeys:o,columnCount:i})=>c(p,null,l,e.expandedRow()((()=>o.has(n.key)?c("tr",null,c("expandedTd",{use:"td",inline:!0,"inline-display":"table-cell","inline-border-width-1px":!0,colSpan:i},t(n))):null)))))}function x(e){e.rows.modify(((e,{columnCount:l})=>{l.value+=1})),e.heads.modify(((e,{data:l,selectedRowKeys:n,columnCount:t})=>{const o=u((()=>n.size===l.length));e[0].children.unshift(c("selectTh",{use:"th",inline:!0,"inline-display":"table-cell","inline-border-width-1px":!0,"block-width":60,rowSpan:e.length},c("input",{type:"checkbox",onClick:()=>((e,l)=>{e.size===l.length?e.clear():l.forEach((l=>{e.add(l.key)}))})(n,l),checked:o})))})),e.cells.modify(((e,{data:l,expandedRowRender:n,selectedRowKeys:t,row:o})=>{const i=u((()=>t.has(o.key)));e.unshift(c("selectTd",{use:"td",inline:!0,"inline-display":"table-cell","inline-border-width-1px":!0,"block-width":60},c("input",{type:"checkbox",onClick:()=>((e,l)=>{e.has(l)?e.delete(l):e.add(l)})(t,o.key),checked:i})))}))}function g(e){e.root.prepare((({columns:e})=>({offsets:y((()=>{let l=0,n=0;const t=new WeakMap,o=new WeakMap;return e.forEach((e=>{const{fixed:i,width:d,dataIndex:r}=e;i&&(d?"left"===i?(t.set(e,l),l+=d):(o.set(e,n),n+=d):console.warn(`fixed column ${r} must have width`))})),{left:t,right:o}}))}))),e.headCell.modify(((e,{offsets:l,column:n})=>{n.fixed&&(e.props["block-position-sticky"]=!0,e.props[`block-${n.fixed}`]=l[n.fixed].get(n))})),e.cell.modify(((e,{offsets:l,column:n})=>{n.fixed&&(e.props["block-position-sticky"]=!0,e.props[`block-${n.fixed}`]=l[n.fixed].get(n))})),e.root.modify(((e,{columns:l,scroll:n})=>(e.props.block=!0,e.props["table-layout-fixed"]=!0,e.props["block-width"]=n.x,c("div",{block:!0,"block-overflow-x-scroll":!0,"block-overflow-y-scroll":!0,"block-max-height":n.y},e))))}function k(e,l){e.forEach((e=>{e.children?k(e.children,l):l(e)}))}function v(e,l,n){let t=0;return e.map((e=>{let o=1;return e.children&&(o=v(e.children,l+1,n).reduce(((e,l)=>e+l),0)),n(e,l,o,t),t+=o,o}))}function C({data:e,pagination:l,columns:n},t){const o=f(function(e){return v(e,0,(()=>{})).reduce(((e,l)=>e+l),0)}(n));return c("table",{inline:!0,"block-display-table":!0,"table-border-spacing-0":!0,"table-border-collapse-collapse":!0},c("thead",null,t.heads({columnCount:o})((()=>{let e=0;v(n,0,((l,n)=>{n>e&&(e=n)}));const l=[];return v(n,0,((n,o,i)=>{l[o]||(l[o]=c("tr",null));const d={};d.colSpan=i,n.children||(d.rowSpan=e-o+1),l[o].children.push(t.headCell({column:n,level:o,childrenCount:i})((()=>c("th",r({inline:!0,"inline-display":"table-cell","inline-border-width-1px":!0},d),n.title))))})),l}))),c("tbody",null,t.rows({columnCount:o})((()=>e.map((e=>t.row({row:e})((()=>c("tr",null,t.cells({row:e})((()=>{const l=[];return k(n,(n=>{l.push(t.cell({column:n})((()=>c("td",{inline:!0,"inline-display":"table-cell","inline-border-width-1px":!0},e[n.dataIndex]))))})),l})))))))))),c("pagination",{data:l}))}w.propTypes={expandedRowRender:s.function,expandedRowKeys:s.array},w.Style=e=>{e.heads.elements.expandTh.style(a(r({},R),{textAlign:"center",verticalAlign:"middle"})),e.cells.elements.expandTd.style(a(r({},T),{textAlign:"center",verticalAlign:"middle"})),e.expandedRow.elements.expandedTd.style(a(r({},T),{overflowX:"auto"}))},x.Style=e=>{e.heads.elements.selectTh.style(a(r({},R),{textAlign:"center",verticalAlign:"middle"})),e.cells.elements.selectTd.style(a(r({},T),{textAlign:"center",verticalAlign:"middle"}))},x.propTypes={selectedRowKeys:s.array},g.propTypes={fixHeader:s.bool.default((()=>f(!1))),scroll:s.object.default((()=>h({})))},g.match=()=>!0;const R={borderColor:m().separateColor(),borderStyle:"solid",background:m().fieldColor(),padding:m().spacing()},T={borderStyle:"solid",borderColor:m().separateColor(),background:"#fff",padding:m().spacing()};C.Style=e=>{e.headCell.elements.th.style(R),e.cell.elements.td.style(T)},C.propTypes={data:s.array.default((()=>h([]))),columns:s.array.default((()=>h([])))};var O=b(C,[g,x,w,function(e){e.cell.modify(((e,l)=>{var n=l,{row:d,column:r}=n,a=((e,l)=>{var n={};for(var d in e)o.call(e,d)&&l.indexOf(d)<0&&(n[d]=e[d]);if(null!=e&&t)for(var d of t(e))l.indexOf(d)<0&&i.call(e,d)&&(n[d]=e[d]);return n})(n,["row","column"]);r.render&&(e.children=[r.render(d[r.dataIndex],d,a)]),Object.assign(e.attributes,{"inline-padding":m().spacing()})}))}]);export{O as T};
